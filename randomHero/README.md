# 王者荣耀英雄随机选择系统

一个基于王者荣耀5v5对战的英雄随机选择系统，帮助玩家快速分配英雄和分路，支持多人协作选择。

## 功能特点

- 🎮 **王者荣耀主题**: 基于真实的王者荣耀英雄数据
- 🛣️ **分路分配**: 支持上路、中路、下路、打野、辅助五个分路
- 🎲 **智能随机**: 根据英雄类型自动分配到合适的分路
- ⚡ **一键生成**: 选择分路后直接随机生成3个英雄供选择
- 👥 **多人协作**: 支持多人同时选择，先到先得机制
- 🔒 **防重复选择**: 已选择的英雄在当前场次不会再次出现
- 🎯 **英雄选择**: 从3个随机英雄中选择一个，避免随机到不喜欢的英雄
- 📊 **实时统计**: 显示可用英雄数量和已选择英雄统计
- 📱 **响应式设计**: 支持桌面和移动设备
- ⌨️ **快捷键支持**: 支持键盘快捷键操作

## 核心机制

### 先到先得选择系统
- 确定分路后，系统随机生成该分路下的3个英雄供玩家选择
- 玩家可以从3个英雄中选择一个喜欢的英雄
- 选择后该英雄立即被标记为已选择，其他玩家无法再选择
- 已选择的英雄不会再次出现在随机英雄池中

### 英雄类型与分路对应

| 英雄类型 | 适合分路 |
|---------|---------|
| 战士 | 上路、打野 |
| 法师 | 中路 |
| 坦克 | 上路、辅助 |
| 刺客 | 打野、中路 |
| 射手 | 下路 |
| 辅助 | 辅助 |

## 安装和运行

### 前置要求

- Node.js (版本 14 或更高)
- npm 或 yarn

### 安装步骤

1. 进入项目目录：
```bash
cd randomHero
```

2. 安装依赖：
```bash
npm install
```

3. 启动服务器：
```bash
npm run start
```

或者使用开发模式（自动重启）：
```bash
npm run dev
```

4. 打开浏览器访问：
```
http://localhost:3000
```

## 使用方法

### 基本操作流程

1. **选择分路**: 
   - 点击"随机生成分路"按钮随机选择
   - 或点击对应的分路卡片手动选择（上路、中路、下路、打野、辅助）

2. **直接生成英雄**: 选择分路后，系统自动随机生成该分路下的3个英雄供选择

3. **选择英雄**: 从生成的3个英雄中点击选择喜欢的英雄

4. **确认选择**: 选中的英雄会显示在"本场已选择英雄"区域

5. **重置游戏**: 点击"重置所有选择"按钮开始新的场次

### 快捷键

- `空格键`: 随机选择分路
- `ESC`: 返回分路选择页面

## API 接口

### 获取分路列表
```
GET /api/lanes
```

### 获取指定分路的英雄
```
GET /api/heroes/:lane
```

### 随机生成英雄供选择
```
GET /api/random/:lane
```
返回该分路下随机生成的3个英雄，这些英雄会被立即标记为已选择

### 选择特定英雄
```
POST /api/select-hero/:heroId
```
选择指定的英雄（用于手动选择功能）

### 获取指定分路的可用英雄数量
```
GET /api/available-count/:lane
```
返回该分路的可用英雄数量和总英雄数量

### 获取已选择的英雄
```
GET /api/selected
```

### 重置所有选择
```
POST /api/reset
```

## 技术栈

- **后端**: Node.js + Express
- **前端**: 原生 JavaScript + HTML5 + CSS3
- **数据源**: 王者荣耀官方API
- **样式**: 现代化渐变设计 + 毛玻璃效果 + 悬停动画

## 项目结构

```
randomHero/
├── server.js          # Express服务器和API接口
├── package.json       # 项目配置
├── README.md         # 项目说明
└── public/           # 静态文件
    ├── index.html    # 主页面
    ├── style.css     # 样式文件（包含动画和响应式设计）
    └── script.js     # 前端逻辑和交互
```

## 数据来源

英雄数据来源于王者荣耀官方API：
- 接口地址: `https://pvp.qq.com/web201605/js/herolist.json`
- 包含英雄名称、类型、称号等信息

## 新功能特性

### 英雄选择界面
- 悬停效果显示选择按钮
- 点击选择后立即反馈
- 选择成功的英雄会高亮显示

### 实时统计信息
- 显示当前分路可用英雄数量
- 显示已选择英雄总数
- 显示剩余可用英雄数量

### 多人协作支持
- 支持多个玩家同时使用
- 实时更新英雄选择状态
- 防止英雄重复选择

## 开发说明

### 添加新功能

1. 在 `server.js` 中添加新的API路由
2. 在 `script.js` 中添加对应的前端逻辑
3. 在 `style.css` 中添加必要的样式

### 自定义英雄类型映射

可以在 `server.js` 中修改 `heroTypeMap` 和 `laneMap` 来自定义英雄类型与分路的对应关系。

### 扩展选择机制

可以通过修改 `server.js` 中的随机选择逻辑来调整生成的英雄数量或选择机制。

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！ 